{% extends '::base.html.twig' %}

{% form_theme form 'TltTicketBundle::fields.html.twig' %}

{% block page %}


    <style type="text/css">
        .table-bordered>tbody>tr>td, .table-bordered>tbody>tr>th, .table-bordered>tfoot>tr>td, .table-bordered>tfoot>tr>th, .table-bordered>thead>tr>td, .table-bordered>thead>tr>th {
            font-size: 11px;
        }
    </style>

<div class="row no-print">
    <div class="col-lg-12">
        <h1>Indisponibilitate <small>Entitati</small></h1>
        <ol class="breadcrumb">
            <li><a href="{{ path('homepage') }}"><i class="icon-dashboard"></i> Prima pagina</a></li>
            <li class="active"><i class="icon-file-alt"></i>Rapoarte</li>
        </ol>
    </div>
</div><!-- /.row -->

{{ form_start(form, {'attr': {'class':'breadcrumb'} }) }}

<div class="row no-print">
    <div class="col-lg-3">
        <div class="form-group">
            {{ form_label(form.department) }}
            {{ form_widget(form.department, {'attr': {'class': 'form-control'} }) }}
        </div>
    </div>
    <div class="col-lg-3">
        <div class="form-group">
            {{ form_label(form.start) }}
            {{ form_widget(form.start) }}
        </div>
    </div>
    <div class="col-lg-3">
        <div class="form-group">
            {{ form_label(form.end) }}
            {{ form_widget(form.end) }}
        </div>
    </div>
    <div class="col-lg-3">
        <div class="text-right">
            <div class="form-group">
                <br/>
                {{ form_widget(form.Arata, {'attr': {'class': 'btn btn-primary' }}) }}
            </div>
        </div>
    </div>
</div>

{{ form_rest(form) }}
{{ form_end(form) }}


    {% if systems|length >0 %}
        <div class="row">
            <div class="col-lg-12">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        Raport comparativ al indisponibilitatilor
                    </div>
                    <!-- /.panel-heading -->

                    <div class="panel-body">
                        <div class="table-responsive">
                            <table class="table table-striped table-bordered table-hover">
                                <thead>
                                    <tr>
                                        <th>Sistem</th>
                                        {% for owner in owners %}
                                            <th>{{ owner.name }}</th>
                                        {% endfor %}
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for key, system in systems %}
                                        <tr>
                                            <th>{{ key }}</th>
                                            {% for owner in owners %}
                                                <td class="text-right">{{ system[owner.id]|number_format(0,',','.') }}</td>
                                            {% endfor %}
                                        </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    {% endif %}
{% endblock %}
