{% extends '::base.html.twig' %}

{% block page %}
    <div class="row">
        <div class="col-lg-12">
            <h1 class="page-header">{{ system.name }}</h1>
        </div>
        <!-- /.col-lg-12 -->
    </div>
    <!-- /.row -->

    <div class="row">
        <div class="col-lg-12">
            <div class="panel panel-info">
                <div class="panel-heading">
                    Informatii sistem
                </div>
                <!-- /.panel-heading -->
                <div class="panel-body">
                    <!-- Nav tabs -->
                    <ul class="nav nav-tabs">
                        <li class="active"><a href="#home" data-toggle="tab">Informatii generale</a>
                        </li>
                        <li><a href="#sla" data-toggle="tab">Informatii SLA</a>
                        </li>
                    </ul>

                    <!-- Tab panes -->
                    <div class="tab-content">
                        <div class="tab-pane fade in active" id="home">
                            <h4>Date de intrare</h4>
                            <div class="list-group">
                                <a href="#" class="list-group-item">
                                    <i class="fa fa-clock-o fa-fw"></i> Program normal de lucru
                                    <span class="pull-right text-muted small"><em>{{ system.guaranteedValues.first.minHour|date('H:i') }} - {{ system.guaranteedValues.first.maxHour|date('H:i') }}</em></span>
                                </a>
                                <a href="#" class="list-group-item">
                                    <i class="fa fa-refresh fa-fw"></i> Disponibilitate garantata
                                    <span class="pull-right text-muted small"><em>{{ system.guaranteedValues.first.value|number_format(2,'.',',') }} %</em></span>
                                </a>
                            </div>
                        </div>
                        <div class="tab-pane fade" id="sla">
                            <h4>Perioda: 01.01.2015 - 30.06.2015</h4>
                            <div class="list-group">
                                <a href="#" class="list-group-item">
                                    <i class="fa fa-check-circle fa-fw"></i> Timp maxim de functionare conform programului de lucru
                                    <span class="pull-right text-muted small"><em>{{ currentPeriodIndiponibleTime|number_format(0,'.',',') }} minute</em></span>
                                </a>
                                <a href="#" class="list-group-item">
                                    <i class="fa fa-times-circle fa-fw"></i>Timp indisponibilitate
                                    <span class="pull-right text-muted small"><em>{{ indisponibleTime|number_format(0,'.',',') }} minute</em></span>
                                </a>
                                <a href="#" class="list-group-item">
                                    <i class="fa fa-plus-circle fa-fw"></i> Numar echipamente/utilizatori din sistem
                                    <span class="pull-right text-muted small"><em>{{ unitsNo|number_format(0,'.',',') }} bucati</em></span>
                                </a>
                            </div>

                            {% set disponibilityWithoutEquipments = (1-indisponibleTime/currentPeriodIndiponibleTime)*100 %}
                            {% set disponibilityWithEquipments = (1-indisponibleTime/currentPeriodIndiponibleTime/unitsNo)*100 %}
                            <div class="col-lg-4">
                                <div class="panel
                                    {% if disponibilityWithEquipments > system.guaranteedValues.first.value %}
                                        panel-green
                                    {% elseif disponibilityWithEquipments == system.guaranteedValues.first.value %}
                                        panel-yellow
                                    {% else %}
                                        panel-red
                                    {% endif %}
                                    ">
                                    <div class="panel-heading">
                                        <div class="row">
                                            <div class="col-xs-3">
                                                <i class="fa fa-support fa-5x"></i>
                                            </div>
                                            <div class="col-xs-9 text-right">
                                                <div class="huge">{{ disponibilityWithEquipments|number_format(2,'.',',')}}%</div>
                                            </div>
                                        </div>
                                    </div>
                                    <a href="#">
                                        <div class="panel-footer">
                                            <span class="pull-left">Cu echipamente/utilizatori</span>
                                            <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
                                            <div class="clearfix"></div>
                                        </div>
                                    </a>
                                </div>
                            </div>

                            <div class="col-lg-4">
                                <div class="panel
                                    {% if disponibilityWithoutEquipments > system.guaranteedValues.first.value %}
                                        panel-green
                                    {% elseif disponibilityWithoutEquipments == system.guaranteedValues.first.value %}
                                        panel-yellow
                                    {% else %}
                                        panel-red
                                    {% endif %}
                                    ">
                                    <div class="panel-heading">
                                        <div class="row">
                                            <div class="col-xs-3">
                                                <i class="fa fa-support fa-5x"></i>
                                            </div>
                                            <div class="col-xs-9 text-right">
                                                <div class="huge">{{ disponibilityWithoutEquipments|number_format(2,'.',',')}}%</div>
                                            </div>
                                        </div>
                                    </div>
                                    <a href="#">
                                        <div class="panel-footer">
                                            <span class="pull-left">Fara echipamente/utilizatori {{ system.guaranteedValues.first.value }}</span>
                                            <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
                                            <div class="clearfix"></div>
                                        </div>
                                    </a>
                                </div>
                            </div>
                        </div>
                        <div class="tab-pane fade" id="messages">
                            <h4>Messages Tab</h4>
                            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                        </div>
                        <div class="tab-pane fade" id="settings">
                            <h4>Settings Tab</h4>
                            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                        </div>
                    </div>
                </div>
                <!-- /.panel-body -->
            </div>
            <!-- /.panel -->
        </div>
        <!-- /.col-lg-6 -->
    </div>
    <!-- /.row -->

{% endblock %}